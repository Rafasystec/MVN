<!DOCTYPE html>
<html
 xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:clx="http://java.sun.com/jsf/composite/components"
>
	<h:head>
		<meta charset="UTF-8" />
		<title>Insert title here</title>
	</h:head>
	<h:body>
		<ui:composition template="index.xhtml">
			<ui:define name="conteudo">
				<p:panel header="Cadastro de Empresas" >
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ui-grid-row-custom">
							<div class="ui-grid-col-12">
					    		<div class="ui-grid-row">
									<p:outputLabel value="Fantasia:" for="fantasia"/>
								</div>
								<div class="ui-grid-row">
									<p:inputText value="#{beanEmpresa.pj.fantasia}" id="fantasia"
										required="true" requiredMessage="Fantasia é obrigatório."
										maxlength="60" size="60"
									/>
								</div>
							</div>
						</div>
					</div>
					
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ui-grid-row-custom">
							<div class="ui-grid-col-12">
					    		<div class="ui-grid-row">
									<p:outputLabel value="Razão Social:" for="rsocial"/>
								</div>
								<div class="ui-grid-row">
									<p:inputText value="#{beanEmpresa.pj.razaoSocial}" id="rsocial"
										required="true" requiredMessage="Razão Social deve ser preenchida."
										maxlength="60" size="60"
									/>
								</div>
							</div>
						</div>
					</div>
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ui-grid-row-custom">
							<div class="ui-grid-col-12">
					    		<div class="ui-grid-row">
									<p:outputLabel value="Insc. Estadual:" for="ie"/>
								</div>
								<div class="ui-grid-row">
									<p:inputText value="#{beanEmpresa.pj.ie}" id="ie"
									required="true" requiredMessage="Inscrição Estadual é necessária."
									maxlength="15" size="15"
									/>
								</div>
							</div>
						</div>
					</div>
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ui-grid-row-custom">
							<div class="ui-grid-col-12">
					    		<div class="ui-grid-row">
									<p:outputLabel value="CNPJ:" for="cnpj"	/>
								</div>
								<div class="ui-grid-row">	
									<p:inputMask  value="#{beanEmpresa.pj.cnpj}" id="cnpj"
										required="true" requiredMessage="Informe o CNPJ - Somente números."
										mask="99.999.999/9999-99" />
								</div>
							</div>
						</div>
					</div>
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ui-grid-row-custom">
							<div class="ui-grid-col-12">
					    		<div class="ui-grid-row">
									<p:outputLabel value="I.E. subst. tributária:" for="ietrib"/>
								</div>
								<div class="ui-grid-row">
									<p:inputText value="#{beanEmpresa.pj.ieSubsTributaria}" id="ietrib" maxlength="15" size="15"/>
								</div>
							</div>
						</div>
					</div>
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ui-grid-row-custom">
							<div class="ui-grid-col-12">
					    		<div class="ui-grid-row">
									<p:outputLabel value="Insc. Municipal:" for="im"/>
								</div>
								<div class="ui-grid-row">
									<p:inputText value="#{beanEmpresa.pj.im}" id="im" maxlength="15" size="15"/>
								</div>
							</div>
						</div>
					</div>
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ui-grid-row-custom">
							<div class="ui-grid-col-12">
					    		<div class="ui-grid-row">
									<p:outputLabel value="Regime Tributário:" for="regime"/>
								</div>
								<div class="ui-grid-row">	
									<p:selectOneMenu id="regime" value="#{beanEmpresa.pj.codRegTribut}"
									required="true" requiredMessage="Regime tributário é obrigatório.">
										<f:selectItems value="#{beanEmpresa.regime}"/>
									</p:selectOneMenu>
								</div>
							</div>
						</div>
					</div>
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ui-grid-row-custom">
							<div class="ui-grid-col-12">
					    		<div class="ui-grid-row">
									<p:outputLabel value="Contato:" for="contato"/>
								</div>
								<div class="ui-grid-row">
									<p:inputMask value="#{beanEmpresa.pj.fone}" id="contato" mask="(999)99999-9999"
										required="true" requiredMessage="Informe um contato por favor."
									/>
								</div>
							</div>
						</div>
					</div>
					
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ui-grid-row-custom">
							<div class="ui-grid-col-12">
					    		<div class="ui-grid-row">
									<p:outputLabel value="UF:" for="uf"/>
								</div>
								<div class="ui-grid-row">
									<p:selectOneMenu value="#{beanEmpresa.pj.uf}" id="uf" maxlength="4">
										<f:selectItems value="#{beanEmpresa.uf}"/>
									</p:selectOneMenu>
								</div>
							</div>
						</div>
					</div>
					
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ui-grid-row-custom">
							<div class="ui-grid-col-12">
					    		<div class="ui-grid-row">
									<p:outputLabel value="E-mail" for="email"/>
								</div>
								<div class="ui-grid-row">
									<p:inputText value="#{beanEmpresa.pj.email}" id="email"
										required="true" requiredMessage="E-mail é obrigatório."
										maxlength="35" size="35"
									/>
								</div>
							</div>
						</div>
					</div>
					<div class="ui-grid ui-grid-responsive">
						<div class="ui-grid-row ui-grid-row-custom">
							<div class="ui-grid-col-12">
					    		<div class="ui-grid-row">
									<p:outputLabel value="Web Site: www." for="site"/>
								</div>
								<div class="ui-grid-row">
									<p:inputText value="#{beanEmpresa.pj.webSite}" id="site"/>
								</div>
							</div>
						</div>
					</div>
					
				</p:panel>	
				<p:panel header="Dados gerais">
					<div class="ui-grid ui-grid-responsive">
			   			<div class="ui-grid-row ui-grid-row-custom">
				   			<div class="ui-grid-col-9" style="width:80%">
					   			<div class="ui-grid-row">
									<p:outputLabel value="Atividade Principal" for="atividade"/>
								</div>
								<div class="ui-grid-row">
									<p:selectOneMenu value="#{beanEmpresa.emp.atividade}" id="atividade" maxlength="25">
										<f:selectItems value="#{beanEmpresa.atividade}"/>
									</p:selectOneMenu>
								</div>
							</div>
						</div>
					</div>
						
						
						<clx:dateCalendar id="dtFund" title="Titulo" value="#{beanEmpresa.emp.dtFundacao}"
	    				label="Data Fund." readonly="false" required="true" />	
				</p:panel>
				
			
				<p:panel header="Endereco">
					<h:panelGrid columns="4" cellpadding="0">
						<p:outputLabel value="CEP:" for="cep"/>
						<p:inputMask id="cep" mask="99999-999" value="#{beanEmpresa.ender.cep}" size="9"/>
						<p:outputLabel value="Número:" for="numero"/>
						<p:inputText id="numero" value="#{beanEmpresa.ender.numero}" maxlength="15" size="10"/>
					</h:panelGrid>
					
					<h:panelGrid columns="4" cellpadding="0">
					   	<p:outputLabel> tipo Logradouro:</p:outputLabel>
					   	<p:selectOneMenu value="#{beanEmpresa.ender.tpLogradouro}" >
					   		<f:selectItem itemLabel="Selecione" itemValue="0"/>
							<f:selectItems value="#{beanEmpresa.tpLogradouros}" var="log"
								itemValue="#{log.value}" itemLabel="#{log.lable}"
						/>
						</p:selectOneMenu>
						<p:outputLabel value="Logradouro:" for="lograd"/>
					   	<p:inputText id="lograd" value="#{beanEmpresa.ender.logradouro}" ></p:inputText>
					</h:panelGrid>
					
					<h:panelGrid columns="7">
						<!-- Para o combo de estado -->
						<p:outputLabel value="Estado:" for="estado"/>
					   	<p:selectOneMenu id="estado" value="#{beanEmpresa.codEstado}">
					   		<f:selectItem itemLabel="Selecione" itemValue="0"/>
					   		<f:selectItems value="#{beanEmpresa.estados}" var="estado" itemLabel="#{estado.descricao}" itemValue="#{estado.codigo}"/>
					   		<p:ajax update="cidade" listener="#{beanEmpresa.obterCidades}"/>
					   	</p:selectOneMenu>
					   	<!-- Para o combo de cidade -->
						<p:outputLabel value="Cidade:" for="cidade" />
					   	<p:selectOneMenu id="cidade" value="#{beanEmpresa.codCidade}">
					   		<f:selectItem itemLabel="Selecione" itemValue="0"/>
					   		<f:selectItems value="#{beanEmpresa.cidades}" var="cidade" itemLabel="#{cidade.descricao}" itemValue="#{cidade.codigo}"/>
					   		<p:ajax update="bairro" listener="#{beanEmpresa.obterBairros}"/>
					   	</p:selectOneMenu>
					   	<p:commandButton immediate="true" value="+" actionListener="#{beanEmpresa.openCadCidade}" update="cidade">
					        <p:ajax event="dialogReturn"  update="cidade" listener="#{beanEmpresa.hendleReturnCidades}" />
					    </p:commandButton>
					</h:panelGrid>
					
					<h:panelGrid columns="6" >		   	
						<!-- Para o combo de bairro -->
					   	<p:outputLabel value="Bairro:" for="bairro"/>
					   	<p:selectOneMenu id="bairro" value="#{beanEmpresa.ender.codBairro}" >
					   		<f:selectItem itemLabel="Selecione" itemValue="0"/>
					   		<f:selectItems value="#{beanEmpresa.bairros}" var="bairro" itemLabel="#{bairro.descricao}" itemValue="#{bairro.codigo}"/>
					   	</p:selectOneMenu>
					    <p:commandButton immediate="true" value="+" actionListener="#{beanEmpresa.openCadBairro}">
					        <p:ajax event="dialogReturn" listener="#{beanEmpresa.hendleReturnBairros}" update="bairro" />
					    </p:commandButton>
			   		</h:panelGrid>
				</p:panel>
				<h:panelGrid columns="6">
					<p:commandButton value="Salvar" action="#{beanEmpresa.salvar}" ajax="false"/>
				</h:panelGrid>
				
				
			</ui:define>
		</ui:composition>
	</h:body>
</html>