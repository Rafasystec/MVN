<!DOCTYPE html>
<html
 xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
>
	<h:head>
		<meta charset="UTF-8" />
		<title>Mensagens de Usuário</title>
	</h:head>
	<h:body>
		<ui:composition template="index.xhtml">
			<ui:define name="conteudo">
				<p:panel header="Mensagens de Usuários">
					<label class="control-label " for="usuario">
				   		Usuário Destino
				  	</label>
				  	<div class="input-group">
				   		<div class="input-group-addon">
							<span class="glyphicon glyphicon-user"></span> 
				    	</div>
						<div>
							<p:autoComplete id="usuario" maxResults="5" value="#{userMessage.paramConsultar}" completeMethod="#{userMessage.completeText}" effect="fade" placeholder="Nome ou e-mail" >
								<p:ajax event="itemSelect" listener="#{userMessage.onItemSelect}" update="usuario" />
							</p:autoComplete>
							
						</div>
				  	</div>
				  	<label class="control-label " for="usuario">
				   		Mensagem
				  	</label>
				  	<div class="input-group">
				   		<div class="input-group-addon">
							<span class="glyphicon glyphicon-pencil"></span> 
				    	</div>
				   		<p:inputTextarea id="mensagem" value="#{userMessage.message.mensagem}" maxlength="180" 
							required="true" requiredMessage="Corpo da mensagem é obrigatório" styleClass="form-control" placeholder="Mensagem"
						/>
				  	</div>
				  	<label class="control-label " >
				   		
				  	</label>
				  	<div class="input-group">
				  		<div>
					  		<h:commandLink  action="#{userMessage.salvar}" styleClass="btn btn-info">
					  			  <span class="glyphicon glyphicon-send"></span> Enviar
					  		</h:commandLink>
				  		</div>
				  	</div>
				  </p:panel>
			</ui:define>
		</ui:composition>
	</h:body>
</html>